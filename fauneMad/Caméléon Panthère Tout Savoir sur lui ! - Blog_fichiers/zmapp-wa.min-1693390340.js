function addEvent(e,t,o){try{return e.addEventListener(t,o,!1)}catch(a){try{return e.attachEvent("on"+t,o)}catch(e){return console.log("No Event Listener support with this browser!"),!1}}}!function(e,t){var o=window.Element.prototype,a=o.matches;a||["webkit","ms","moz"].some(function(e){var t=e+"MatchesSelector";if(o.hasOwnProperty(t))return a=o[t],!0}),t.prototype.delegateEventListener=function(t,o,n){this.addEventListener(t,function(t){var r=function(t,o,n){for(var r=t.target;;){if(null!==r&&a.call(r,o))return r;if(null===r||r==n||r==e.body)return!1;r=r.parentNode}}(t,o,t.currentTarget);r&&n.call(r,t)})}}(window.document,window.EventTarget||window.Element),addEvent(document,"DOMContentLoaded",function(){[].forEach.call(document.getElementsByClassName("has-submenu"),function(e){e.addEventListener("click",function(){this.classList.toggle("opened")})})}),document.addEventListener("load",function(){const e=document.querySelectorAll(["product-block-vxs","product-block-v","product-block-h","prod-spotlight","product-block-slide","zoomarticle","zmcounter--hero","stamp-xl","sticker--product","timerdoornew"].map(e=>"."+e).join(","));if(e.length)for(let t=0;t<e.length;t++){const o=e[t],a=o.getAttribute("data-end-date");a&&productCountdown(o,a)}},!0);const productCountdown=function(e,t,o){const a=t.split(/[- :]/),n=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5]).getTime(),r=setInterval(function(){const t=e.querySelector(".timerdoor"),a=(new Date).getTime(),i=n-a;if(!t||i<0)return t&&(t.outerHTML=""),void clearInterval(r);const d=Math.floor(i/864e5),s=Math.floor(i%864e5/36e5),c=Math.floor(i%36e5/6e4),l=Math.floor(i%6e4/1e3);o&&0!==d&&replaceTimeValue(t,"d",d),replaceTimeValue(t,"h",s),replaceTimeValue(t,"m",c),replaceTimeValue(t,"s",l)},1e3)};function replaceTimeValue(e,t,o){const a=document.createElement("span");a.className="time-value",a.textContent=o>9?o:"0"+o;const n=e.querySelector("."+t),r=n?n.querySelector(".time-value"):null;n&&r&&n.replaceChild(a,r)}var base_url="/";"undefined"!=typeof zoomalia&&(zoomalia.translations={1:{global:{back:"Retour",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Article retiré du panier",giftAdded:"Cadeau ajouté dans le panier",giftRemoved:"Cadeau retiré du panier",addedProduct:"Produit ajouté au panier",discountRemoved:"Code promo supprimé"},links:{animalerie:"animalerie"},product:{backinstock_confirmation:"Vous recevrez un mail dès son retour en stock.",backinstock_alertactive:"Alerte déjà active",backinstock_alertsaved:"Alerte enregistrée"},sponsorship:{mailsubject:"Tu connais zoomalia ?"}},2:{global:{back:"Back",error:"Une erreur est survenue",loading:"Loading"},panier:{productRemoved:"Product removed from your basket",giftAdded:"Gift added into your basket",giftRemoved:"Gift removed from your basket",addedProduct:"Product added to your basket",discountRemoved:"Discount code removed"},links:{animalerie:"pet-supplies"},sponsorship:{mailsubject:"Know Zoomalia ?"}},3:{global:{back:"Volver",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Producto retirado del carrito",giftAdded:"Regalo añadido al carrito",giftRemoved:"Regalo retirado del carrito",addedProduct:"Producto añadido al carrito",discountRemoved:"Código de cupón eliminado"},links:{animalerie:"mascotas"},sponsorship:{mailsubject:"conoces zoomalia?"}},4:{global:{back:"Rückkehr",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Produkt aus dem Warenkorb entfernt",giftAdded:"Geschenk zum Warenkorb hinzugefügt",giftRemoved:"Geschenk aus dem Warenkorb entfernt",addedProduct:"Produkt zum Warenkorb hinzugefügt",discountRemoved:"Gutscheincode entfernt"},links:{animalerie:"tierhandlung"},sponsorship:{mailsubject:"Kennst du Zoomalia?"}},5:{global:{back:"Retour",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Article retiré du panier",giftAdded:"Cadeau ajouté dans le panier",giftRemoved:"Cadeau retiré du panier",addedProduct:"Produit ajouté au panier",discountRemoved:"Code promo supprimé"},links:{animalerie:"animalerie"},sponsorship:{mailsubject:"Tu connais Zoomalia ?"}},6:{global:{back:"Rückkehr",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Produkt aus dem Warenkorb entfernt",giftAdded:"Geschenk zum Warenkorb hinzugefügt",giftRemoved:"Geschenk aus dem Warenkorb entfernt",addedProduct:"Produkt zum Warenkorb hinzugefügt",discountRemoved:"Gutscheincode entfernt"},links:{animalerie:"tierhandlung"},sponsorship:{mailsubject:"Kennst du Zoomalia?"}},7:{global:{back:"Ritorno",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Articolo tolto dal carrello",giftAdded:"Regalo aggiunto al carrello",giftRemoved:"Regalo rimosso dal carrello",addedProduct:"Articolo aggiunto dal carrello",discountRemoved:"Codice promozionale rimosso"},links:{animalerie:"negozio-di-animali"},sponsorship:{mailsubject:"conosci zoomalia?"}},8:{global:{back:"Terug",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Artikel werd uit je winkelmand verwijderd",giftAdded:"Cadeau toegevoegd aan winkelwagen",giftRemoved:"Cadeau werd uit je winkelmand verwijderd",addedProduct:"Artikel is toegevoegd winkelmand verwijderd",discountRemoved:"Coupon code werd uit je winkelmand verwijderd"},links:{animalerie:"dierenwinkel"},sponsorship:{mailsubject:"ken je zoomalia"}},9:{global:{back:"Retorno",error:"Une erreur est survenue",loading:"Chargement"},panier:{productRemoved:"Item removido do carrinho",giftAdded:"Presente adicionado ao carrinho",giftRemoved:"Presente adicionado ao carrinho",addedProduct:"Produto adicionado ao carrinho",discountRemoved:"Código promocional removido"},links:{animalerie:"animais"},sponsorship:{mailsubject:"Você conhece zoomalia?"}}},zoomalia.lang=void 0!==zoomalia.lang?zoomalia.lang:1,zoomalia.translate=function(e){var t="";if(e){var o=zoomalia.lang+"."+e;for(var a in o=o.split("."),t=zoomalia.translations,o){if(void 0===t[o[a]]){t="";break}t=t[o[a]]}}return t});var modalflag=!1;function getZmodal(e,t,o){0==modalflag&&(modalflag=!0,jQuery.ajax({url:"/modal/"+t+"/",type:"get",dataType:"html",data:o,beforeSend:function(){e instanceof HTMLElement&&e.classList.add("loading")},success:function(e){document.body.classList.add("has-door"),jQuery(e).prependTo("body")},complete:function(){e instanceof HTMLElement&&e.classList.remove("loading"),closeZmodal()},error:function(e,t,o){return!1}}))}function destroyModal(){jQuery("#zmodal").remove(),document.body.classList.remove("has-door")}function closeZmodal(){jQuery(".modal").mouseup(function(e){var t=jQuery("#zmodal-content");modalflag=!1,this.classList.contains("modal--disableClosing")||e.target.id==t.attr("id")||t.has(e.target).length||destroyModal(),e.target.classList.contains("btn-buy")&&(getAjaxDeclis(e.target.getAttribute("data-id")),destroyModal()),jQuery(".close, .close-modal").click(function(){destroyModal()})})}function searchState(){return!!document.querySelector(".search-app").classList.contains("search-app--on")}function isEmail(e){return new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]+[.]{1}[a-z0-9]+$","i").test(e)}function pinLaunchBar(e,t,o,a){if(a){if(void 0!==document.getElementById("toky_container")){document.getElementById("toky_container")}e>250?a.classList.contains("launchers--pined")||(a.classList.add("launchers--pined"),"undefined"!=typeof tokyWokyButton&&null!==tokyWokyButton&&(tokyWokyButton.classList.add("launcher-visible"),setTimeout(function(){var e=parseInt(a.offsetHeight)+"px";tokyWokyButton.style.bottom=e},1e3))):a.classList.contains("launchers--pined")&&(a.classList.remove("launchers--pined"),"undefined"!=typeof tokyWokyButton&&null!==tokyWokyButton&&(tokyWokyButton.classList.remove("launcher-visible"),tokyWokyButton.style.bottom="0")),t-o<e&&a.classList.contains("launchers--pined")&&(a.classList.remove("launchers--pined"),"undefined"!=typeof tokyWokyButton&&null!==tokyWokyButton&&(tokyWokyButton.classList.remove("launcher-visible"),tokyWokyButton.style.bottom="0"))}}var decliState=!1;function getAjaxDeclis(e){decliState||"undefined"==typeof zoomalia||(decliState=!0,$.ajax("/"+zoomalia.translate("links.animalerie")+"/decli/",{data:{idProduit:e,mode:"ajax"},type:"get",dataType:"html",beforeSend:function(){showZoomask(),showZoomaskLoader()},success:function(e){e.error?console.log(e.error):openAjaxDeclis(e),decliState=!1},complete:function(){hideZoomaskLoader()},error:function(e,t,o){return decliState=!1,!1}}))}var customProductState=!1;function getCustomProductAjax(e,t,o){customProductState||"undefined"==typeof zoomalia||(customProductState=!0,$.ajax("/"+zoomalia.translate("links.animalerie")+"/customproduct/",{data:{idProduit:e,variationId:t,customKey:o,mode:"ajax",type:"edit"},type:"post",dataType:"html",beforeSend:function(){showZoomask(),showZoomaskLoader()},success:function(e){e.error?console.log(e.error):openAjaxCustomProduct(e),customProductState=!1},complete:function(){hideZoomaskLoader()},error:function(e,t,o){return customProductState=!1,!1}}))}function hideZoomaskLoader(){document.getElementById("zooLoader").remove()}function showZoomaskLoader(e=""){var t=document.createElement("div");t.setAttribute("id","zooLoader"),document.body.appendChild(t),e&&document.getElementById("zooLoader").classList.add(e)}function showZoomask(e=""){var t=document.createElement("div");t.setAttribute("id","zoomask"),document.body.appendChild(t),e&&document.getElementById("zoomask").classList.add(e)}function hideZoomask(){document.getElementById("zoomask").remove()}function openAjaxDeclis(e){var t=document.createElement("div");document.body.classList.add("has-door"),t.setAttribute("id","variations-magicdoor"),t.classList.add("xpanded"),t.insertAdjacentHTML("afterbegin",e),document.body.appendChild(t),t.querySelector(".btn-close").addEventListener("click",function(){closeAjaxDeclis(t)});var o=t.querySelectorAll(".btn-buy");if(o.length)for(var a=0;a<o.length;a++)o[a].addEventListener("click",function(){setTimeout(function(){closeAjaxDeclis(t)},100)})}function openAjaxCustomProduct(e){var t=document.createElement("div");t.setAttribute("id","customproducts-magicdoor"),t.classList.add("xpanded"),t.insertAdjacentHTML("afterbegin",e),document.body.classList.add("has-door"),document.body.appendChild(t);var o=document.createElement("script");o.src="/dist/front/product.min.js",o.addEventListener("load",()=>{const e=t.querySelector(".product-overview");if(!e)return;const o=e.dataset.id;initialize_product(o),carouselBehavior(),lazyloadCarousel()}),document.body.appendChild(o),initPPForm(),t.querySelector(".btn-close").addEventListener("click",function(){closeCustomProduct(t)});var a=t.querySelectorAll(".btn-buy");if(a.length)for(var n=0;n<a.length;n++)a[n].addEventListener("click",function(){setTimeout(function(){closeAjaxDeclis(t)},100)})}function closeAjaxDeclis(e){e.classList.remove("xpanded"),document.body.classList.remove("has-door"),e&&e.parentNode&&e.parentNode.removeChild(e),hideZoomask()}function closeCustomProduct(e){e.classList.remove("xpanded"),document.body.classList.remove("has-door"),e&&e.parentNode&&e.parentNode.removeChild(e),hideZoomask()}function removeNode(e){e&&e instanceof HTMLElement&&null!=e&&e.parentNode&&e.parentNode.removeChild(e)}function zmAlert(e){e.type=void 0===e.type?"default":e.type,e.data=void 0===e.data?"default":e.data,e.timeout=void 0===e.timeout?null:e.timeout,e.target=void 0===e.target?document.body:document.getElementById(e.target),e.position=void 0===e.position?null:e.position,e.prepend=void 0!==e.prepend;var t=document.getElementsByClassName("zmalert");for(var o of t)removeNode(o);var a=document.createElement("div");a.className="zmalert",a.classList.add("zmalert--"+e.type),a.innerHTML=e.data,a.onclick=function(){for(var t=document.getElementsByClassName("zmalert"),o=0;o<t.length;o++)e.target.removeChild(t[o])},e.prepend?e.target.prepend(a):e.target.appendChild(a),null!==e.timeout&&setTimeout(function(){removeNode(a)},e.timeout),null!==e.position&&(a.style.position=e.position)}function toggleOriginalCom(e,t){let o,a;e.data("requestRunning")||(e.data("requestRunning",!0),$.ajax({type:"GET",url:"/commentaires/commentaires/get-original/id/",data:{id:t},dataType:"json",beforeSend:function(){e.addClass("loading")},success:function(n){if(!n)return!1;const r=n.LABEL;return o=r?r.replace("%site%",n.FROM):"",a='<span id="com'+t+'" class="show ajaxcomment"><span class="title">'+o+"</span> &laquo; "+n.ORIGINAL+" &raquo;</span>",e.after(a),!0},error:function(t,o,a){return e.removeClass("loading"),!1},complete:function(){e.data("requestRunning",!1),e.removeClass("loading"),$("body").mouseup(function(e){var t=$(".ajaxcomment");e.target.id==t.attr("id")||t.has(e.target).length||$(".ajaxcomment").remove()})}}))}document.delegateEventListener("click",".category__aside__content .bloc__filter",function(e){e.stopPropagation(),document.querySelectorAll(".category__aside__content .bloc__filter").forEach(function(e){e.classList.remove("opened","visible")}),this.classList.add("opened")}),document.delegateEventListener("click",".product-block-ajax",function(e){e.stopPropagation(),e.preventDefault(),getAjaxDeclis(this.getAttribute("data-id"))}),document.delegateEventListener("click",".cart-customproduct-ajax",function(e){e.stopPropagation(),e.preventDefault(),getCustomProductAjax(this.getAttribute("data-product-id"),this.getAttribute("data-variation-id"),this.getAttribute("data-custom-key"))}),document.delegateEventListener("click",".data-link",function(e){if(!this.hasAttribute("data-url"))return!1;const t=this.getAttribute("data-url");if(e.stopPropagation(),e.preventDefault(),this.hasAttribute("data-auth-required")&&"true"===this.getAttribute("data-auth-required"))return this.classList.add("loading"),void isLogged().then(e=>{e?window.location=t:getZmodal(this,"loginform")}).then(()=>{this.classList.remove("loading")});window.location=t});const internationalComments=document.querySelectorAll(".originalCom");function htmlToElement(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}function isElement(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}internationalComments.forEach(e=>e.addEventListener("click",()=>toggleOriginalCom($(this),this.dataset.id)));var zmMenuImages=[];function preload(){for(var e=0;e<arguments.length;e++)zmMenuImages[e]=new Image,zmMenuImages[e].src=preload.arguments[e]}function initPPForm(){function e(e){let t=e.querySelector(".counterChar").dataset.maxLength;e.querySelector(".form-control").addEventListener("keyup",function(){e.querySelector(".counter").innerHTML="("+this.value.length+"/"+t+")",this.value.length==t?e.querySelector(".counter").classList.add("text-danger"):e.querySelector(".counter").classList.remove("text-danger")})}let t=document.querySelectorAll(".form-group--custom");if(t)for(let o=0;o<t.length;++o)e(t[o]);let o=document.querySelectorAll(".switchRectoVerso .btn"),a=document.querySelectorAll(".product-pp__customForm__form");if(o)for(let e=0;e<o.length;++e)o[e].addEventListener("click",function(){let e=this.getAttribute("data-target");if(!this.parentElement.classList.contains("active")){for(let e=0;e<o.length;++e)o[e].parentElement.classList.remove("active");for(let e=0;e<a.length;++e)a[e].classList.remove("active");if(this.parentElement.classList.add("active"),isMobile.any())document.querySelector("#customFormPP").scrollIntoView();let t=document.querySelectorAll('[data-form-name="'+e+'"]');for(let e=0;e<t.length;++e)t[e].classList.add("active")}})}function hasClass(e,t){if(e.className.match("(?:^|\\s)"+t+"(?!\\S)"))return!0}function addClass(e,t){e.className.match("(?:^|\\s)"+t+"(?!\\S)")||(e.className+=" "+t)}function delClass(e,t){e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)"),"")}function goBackToReferer(){var e=document.referrer,t=window.location.href.split("/"),o=t[0]+"//"+t[2];if(e&&-1!=e.indexOf(o))var a=e;else{var n=$("ul.breadcrumb li a");if(n.length)var r=n[n.length-1].href;else r="";if(r)a=r;else a=o}window.location=a}async function isLogged(){const e=await fetch("/login/is-logged/",{headers:{"Content-Type":"application/json; charset=utf-8"},method:"GET"});return await e.json()}function initialize_footer(){}preload("https://static.zoomalia.com/images/menu/icon_cat_1_white.svg","https://static.zoomalia.com/images/menu/icon_cat_2_white.svg","https://static.zoomalia.com/images/menu/icon_cat_3_white.svg","https://static.zoomalia.com/images/menu/icon_cat_4_white.svg","https://static.zoomalia.com/images/menu/icon_cat_5_white.svg","https://static.zoomalia.com/images/menu/icon_cat_6_white.svg","https://static.zoomalia.com/images/menu/icon_cat_145_white.svg","https://static.zoomalia.com/images/menu/icon_cat_401_white.svg","https://static.zoomalia.com/images/menu/icon_cat_999_white.svg","https://static.zoomalia.com/images/menu/icon_cat_offer_white.svg"),initPPForm(),window.addEventListener("load",function(){document.body.classList.remove("preload")}),function(e){var t=0,o=[],a=[],n=function(e){var o={flashbanner:"#banner_flash",cartnavbar:"#navbar-cart-dd",accountnavbar:"#navbar-account",flashmessenger:"#content-flashmessenger",produitconsulte:"#slider-produit-consulte",decli:"#product-variations-magicdoor"};for(var a in e)switch(a){case"bm":e.bm=parseInt(e.bm),isNaN(e.bm)&&(e.bm=0),t=e.bm;break;case"debugbar":$("#scienta_debug").show(),$(".edit_produit").show();break;case"customerdata":dataLayer.push({event:"custommer_data_ready",criteo_email_customer:e.customerdata.hash,email:e.customerdata.email,cart:e.customerdata.cart,cart_items:e.customerdata.cart_items,cart_has_petfood:e.customerdata.cart_has_petfood,cart_has_zml:e.customerdata.cart_has_zml,cart_zml_amount:e.customerdata.cart_zml_amount});break;default:var n=o[a]&&$(o[a]).length>0?o[a]:".zac-"+a;$(n).length>0&&(""!=e[a]?$(n).html(e[a]):$(n).css({height:"0","min-height":"0","margin-top":"0"}))}},r=function(e){var t=localStorage.getItem(zoomalia.zaj_name);if(t){try{t=JSON.parse(t)}catch(e){t={gb:"empty"}}var o=[];for(var a in e)o[e[a]]=t[e[a]]?t[e[a]]:"";o.customerdata=t.customerdata,n(o),"empty"==t.gb&&localStorage.removeItem(zoomalia.zaj_name)}else{var i=location.href.indexOf("www.zoomalia")>=0?"https://static.zoomalia.com/":"/";$.ajax(i+"js/v2/"+zoomalia.zaj_name+".json",{success:function(t){try{t=!!t&&JSON.stringify(t)}catch(e){t=!1}t||(t='{"gb":"empty"}'),localStorage.setItem(zoomalia.zaj_name,t),r(e)}})}},i=function(e){if(t&&t>0){var o=[];for(var a in e)o[e[a]]="customerdata"==e[a]?[]:"";n(o)}else if(function(){if(location.href.indexOf(".zoomalia.com")<0)return!1;var e=document.cookie.split("; "),t=[];for(var o in e){var a=e[o].split("=");t[a.shift()]=a.join("=")}return!(null!=t[zoomalia.ciaa_name]&&t[zoomalia.ciaa_name])}())r(e);else{var i=$(".product-overview").attr("data-id");i||(i=0);var d={bloc:e,idProduit:i||0},s=$("#category");s.length&&(d.category=s.attr("data-id"),d.range=s.attr("data-range"),d.brand=s.attr("data-brand")),$.ajax({url:"/cacheajax/affichage/getblocs/",type:"post",data:d,dataType:"json",success:function(e){return!!e&&(n(e),!0)},error:function(e,t,o){return!1}})}},d=function(){var e=a;if(!e||e.length<1)return;var t=[];var o=(void 0!==window.innerHeight?window.innerHeight:document.documentElement.clientHeight)+(void 0!==window.scrollY?window.scrollY:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop)+600;for(var n in e)if(e[n]){var r=e[n].s;$(r).length<1||$(r).position().top<o&&(t.push(e[n].b),e[n]=!1)}t.length>0&&i(t)};e.zcacheajax={Add:function(){for(var e=arguments,t=0;t<e.length;t++)o.push(e[t])},Request:function(){i(o),o=[]},LazyLoad:function(e,t){a.length<1&&(window.addEventListener("scroll",d),window.addEventListener("resize",d)),a.push({s:e,b:t}),d()}}}(jQuery),window.addEventListener("click",e=>{for(var t=e.target,o=document.querySelectorAll(".has-dd");t instanceof HTMLElement&&!t.classList.contains("has-dd");)t=t.parentNode;for(var a=0;a<o.length;a++)t===o[a]?o[a].classList.add("active"):o[a].classList.remove("active")});